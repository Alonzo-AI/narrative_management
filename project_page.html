<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Project Details | Athlyte</title>
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"
        />
        <link
            href="https://fonts.googleapis.com/icon?family=Material+Icons"
            rel="stylesheet"
        />
        <style>
            :root {
                --fsu-garnet: #782f40;
                --fsu-gold: #ceb888;
            }

            body {
                background-color: var(--fsu-garnet);
                color: #333;
            }

            .project-header {
                background-color: white;
                padding: 20px;
                border-radius: 8px;
                margin-top: 20px;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
                position: relative;
            }

            .edit-button {
                position: absolute;
                top: 20px;
                right: 20px;
                background-color: var(--fsu-garnet);
                color: white;
            }

            .project-title {
                color: var(--fsu-garnet);
                margin: 0;
                padding-bottom: 10px;
                border-bottom: 2px solid var(--fsu-gold);
            }

            .project-meta {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 20px;
                margin-top: 20px;
            }

            .meta-item {
                display: flex;
                align-items: center;
                gap: 10px;
            }

            .meta-item i {
                color: var(--fsu-garnet);
            }

            .meta-item img {
                width: 24px;
                height: 24px;
                border-radius: 50%;
            }

            .non-editable {
                color: #757575;
                font-style: italic;
            }

            /* Tab Styles */
            .tabs {
                background-color: var(--fsu-gold);
                margin-top: 20px;
                border-radius: 8px 8px 0 0;
            }

            .tabs .tab a {
                color: var(--fsu-garnet);
            }

            .tabs .tab a:hover {
                color: var(--fsu-garnet);
                opacity: 0.8;
            }

            .tabs .tab a.active {
                color: var(--fsu-garnet);
            }

            .tabs .indicator {
                background-color: var(--fsu-garnet);
            }

            .tab-content {
                background-color: white;
                padding: 20px;
                border-radius: 0 0 8px 8px;
                min-height: 300px;
            }

            /* Team Member Styles */
            .team-member {
                display: flex;
                align-items: center;
                gap: 15px;
                padding: 10px;
                border-bottom: 1px solid #eee;
            }

            .team-member img {
                width: 40px;
                height: 40px;
                border-radius: 50%;
            }

            /* Stage Card Styles */
            .stage-card {
                background-color: #f5f5f5;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 15px;
            }

            .stage-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 10px;
            }

            .stage-status {
                padding: 5px 10px;
                border-radius: 15px;
                font-size: 0.8rem;
                color: white;
            }

            .status-complete {
                background-color: #4caf50;
            }
            .status-in-progress {
                background-color: #2196f3;
            }
            .status-not-started {
                background-color: #9e9e9e;
            }

            .research-nav {
                list-style: none;
                padding: 0;
                margin: 0;
            }

            .research-nav li {
                margin: 0;
                transition: background-color 0.3s ease;
            }

            .research-nav li a {
                display: flex;
                align-items: center;
                gap: 10px;
                padding: 15px;
                color: var(--fsu-garnet);
                text-decoration: none;
                transition: background-color 0.3s ease;
            }

            .research-nav li.active a {
                background-color: var(--fsu-garnet);
                color: white;
            }

            .research-nav li:not(.active):hover a {
                background-color: #d9c9a3;
            }

            .document-list {
                display: flex;
                flex-direction: column;
                gap: 10px;
            }

            .document-item {
                display: flex;
                align-items: center;
                gap: 15px;
                padding: 10px;
                background-color: #f5f5f5;
                border-radius: 4px;
                transition: background-color 0.2s ease;
            }

            .document-item:hover {
                background-color: #eeeeee;
                cursor: pointer;
            }

            .document-item i {
                color: var(--fsu-garnet);
                font-size: 20px;
            }

            .document-item span:nth-child(2) {
                flex-grow: 1;
            }

            .document-item span:last-child {
                font-size: 0.8rem;
            }

            .edit-actions {
                display: flex;
                gap: 10px;
                margin-top: 20px;
            }

            .save-button {
                background-color: var(--fsu-garnet);
            }

            .cancel-button {
                background-color: #9e9e9e;
            }
            .add-item-button {
                position: absolute;
                top: 20px;
                right: 20px;
                background-color: var(--fsu-garnet);
                color: white;
                padding: 0 15px;
            }

            .upload-area {
                border: 2px dashed #ccc;
                border-radius: 4px;
                padding: 20px;
                text-align: center;
                margin: 10px 0;
                cursor: pointer;
                transition: border-color 0.3s ease;
            }

            .upload-area:hover {
                border-color: var(--fsu-garnet);
            }

            .upload-area i {
                font-size: 48px;
                color: #ccc;
            }

            .document-item .actions {
                display: none;
                margin-left: auto;
            }

            .document-item:hover .actions {
                display: flex;
                gap: 10px;
            }

            .action-button {
                background: none;
                border: none;
                cursor: pointer;
                color: var(--fsu-garnet);
            }

            .action-button:hover {
                opacity: 0.8;
            }

            .modal {
                max-width: 500px;
            }

            .modal .modal-content {
                padding: 24px;
            }

            .modal .modal-footer {
                padding: 4px 24px;
            }

            .input-group {
                margin-bottom: 15px;
            }

            .input-group label {
                display: block;
                margin-bottom: 5px;
                color: #333;
            }

            .input-group input {
                width: 100%;
                padding: 8px;
                border: 1px solid #ddd;
                border-radius: 4px;
            }

            /* Content Draft Section Styles */
            .content-nav {
                background-color: var(--fsu-gold);
                border-radius: 8px;
                overflow: hidden;
            }

            .content-nav li a {
                display: block;
                padding: 15px;
                color: var(--fsu-garnet);
                text-decoration: none;
                transition: background-color 0.3s ease;
            }

            .content-nav li.active a,
            .content-nav li a:hover {
                background-color: var(--fsu-garnet);
                color: white;
            }

            .version-control label {
                margin: 0;
                color: var(--fsu-garnet);
            }

            .version-control select {
                width: auto;
                background-color: white;
                border: 1px solid #ccc;
                padding: 5px;
                border-radius: 4px;
            }

            .content-format-section textarea {
                min-height: 250px;
                border: 1px solid #ccc;
                padding: 10px;
                border-radius: 4px;
            }
            /* Override Materialize select styling */
            .browser-default {
                display: block !important;
                width: 100% !important;
                height: 40px !important;
                padding: 7px 12px !important;
                border: 1px solid #9e9e9e !important;
                border-radius: 4px !important;
                background-color: transparent !important;
                background-clip: padding-box !important;
                box-shadow: none !important;
                box-sizing: border-box !important;
                margin: 0 0 8px 0 !important;
            }

            .version-control {
                display: flex;
                justify-content: flex-end;
                align-items: center;
                gap: 10px;
                margin-bottom: 15px;
            }

            .version-control label {
                margin-right: 10px;
                color: var(--fsu-garnet);
            }

            .version-control select {
                width: auto;
                max-width: 250px;
            }

            /* Related Content Sidebar Styles */
            .related-content-sidebar {
                background-color: #f5f5f5;
                border-radius: 8px;
                padding: 20px;
                border-left: 2px solid var(--fsu-gold);
            }

            .related-sections {
                display: flex;
                flex-direction: column;
                gap: 20px;
            }

            .related-section h6 {
                color: var(--fsu-garnet);
                margin-bottom: 10px;
                border-bottom: 1px solid #ddd;
                padding-bottom: 5px;
            }

            .related-items {
                max-height: 200px;
                overflow-y: auto;
                background-color: white;
                border-radius: 4px;
                padding: 10px;
            }

            .related-items .no-content-message {
                color: #888;
                text-align: center;
                font-style: italic;
            }

            .related-content-item {
                background-color: #f0f0f0;
                border-radius: 4px;
                padding: 10px;
                margin-bottom: 10px;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }

            .related-content-item .item-actions {
                display: flex;
                gap: 5px;
            }

            .related-content-item .item-actions button {
                background: none;
                border: none;
                color: var(--fsu-garnet);
                cursor: pointer;
                padding: 0;
            }

            .related-content-item .item-actions button:hover {
                opacity: 0.7;
            }

            /* Related Content Accordion Styles */
            .related-content-sidebar .collapsible {
                border: none;
                box-shadow: none;
                margin: 0;
            }

            .related-content-sidebar .collapsible-header {
                background-color: var(--fsu-gold);
                color: var(--fsu-garnet);
                display: flex;
                align-items: center;
                border: none;
                padding: 10px 15px;
                font-weight: 600;
            }

            .related-content-sidebar .collapsible-header i {
                margin-right: 10px;
                color: var(--fsu-garnet);
            }

            .related-content-sidebar .collapsible-body {
                background-color: white;
                border: none;
                padding: 10px;
            }

            .related-content-sidebar .collapsible li {
                margin-bottom: 10px;
                border: 1px solid var(--fsu-gold);
                border-radius: 4px;
                overflow: hidden;
            }

            .related-content-sidebar
                .collapsible
                li.active
                .collapsible-header {
                background-color: var(--fsu-garnet);
                color: white;
            }

            .related-content-sidebar
                .collapsible
                li.active
                .collapsible-header
                i {
                color: white;
            }

            .graphics-nav {
                list-style: none;
                padding: 0;
                margin: 0;
            }

            .graphics-nav li a {
                display: flex;
                align-items: center;
                gap: 10px;
                padding: 15px;
                color: var(--fsu-garnet);
                text-decoration: none;
                transition: background-color 0.3s ease;
            }

            .graphics-nav li.active a {
                background-color: var(--fsu-garnet);
                color: white;
            }

            .graphics-nav li:not(.active):hover a {
                background-color: #d9c9a3;
            }

            .graphics-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 15px;
            }

            .add-graphics-button {
                background-color: var(--fsu-garnet);
                color: white;
            }

            .media-grid {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                gap: 20px;
                padding: 20px;
                background-color: #f5f5f5;
                border-radius: 8px;
                min-height: 200px;
            }

            .media-grid .media-item {
                display: flex;
                flex-direction: column;
                align-items: center;
                background-color: white;
                border-radius: 8px;
                overflow: hidden;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            }

            .media-grid .media-item img {
                width: 100%;
                height: 150px;
                object-fit: cover;
            }

            .media-grid .media-item button {
                margin-top: 10px;
                background-color: var(--fsu-garnet);
            }

            .no-content-message {
                grid-column: 1 / -1;
                text-align: center;
                color: #888;
                padding: 20px;
            }

            /* Media Selection Modal Tabs */
            .graphics-selection-tabs .tabs {
                background-color: var(--fsu-gold);
            }

            .graphics-selection-tabs .tabs .tab a {
                color: var(--fsu-garnet);
            }

            .graphics-selection-tabs .tabs .tab a.active {
                color: var(--fsu-garnet);
                font-weight: bold;
            }

            .graphics-selection-tabs .tabs .indicator {
                background-color: var(--fsu-garnet);
            }

            /* Stage Header Styles */
            .stage-header-content {
                display: flex;
                justify-content: space-between;
                align-items: center;
                width: 100%;
            }

            .stage-assignment {
                display: flex;
                align-items: center;
                cursor: pointer;
            }

            .stage-assignment .assigned-user-avatar {
                width: 40px;
                height: 40px;
                border-radius: 50%;
                margin-right: 10px;
            }

            .stage-assignment .assigned-user-name {
                font-weight: 600;
                color: var(--fsu-garnet);
            }

            /* Approve Review Button Styles */
            .graphics-actions {
                margin-top: 20px;
                display: flex;
                justify-content: flex-end;
            }

            .approve-review-button {
                background-color: var(--fsu-garnet);
                color: white;
            }

            /* Team Member Selection in Modal */
            .team-member-list {
                display: flex;
                flex-direction: column;
                gap: 15px;
            }

            .team-member {
                display: flex;
                align-items: center;
                padding: 10px;
                border: 2px solid transparent;
                border-radius: 8px;
                cursor: pointer;
                transition: background-color 0.3s ease;
            }

            .team-member:hover {
                background-color: #f5f5f5;
            }

            .team-member.selected {
                border-color: var(--fsu-garnet);
                background-color: #f0f0f0;
            }

            .team-member img {
                width: 40px;
                height: 40px;
                border-radius: 50%;
                margin-right: 15px;
            }

            .team-member .grey-text {
                font-size: 0.8em;
                color: #666;
            }

            /* Graphics Topbar Styles */
            .graphics-topbar {
                display: flex;
                background-color: #f5f5f5;
                border-bottom: 1px solid #e0e0e0;
                padding: 15px;
                border-radius: 8px 8px 0 0;
            }

            .topbar-column {
                flex: 1;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 10px;
            }

            .column-label {
                font-weight: 600;
                color: var(--fsu-garnet);
                text-transform: uppercase;
                font-size: 0.8em;
            }

            .column-content {
                display: flex;
                align-items: center;
                gap: 10px;
            }

            .assignee-column .assigned-user-avatar {
                width: 40px;
                height: 40px;
                border-radius: 50%;
                cursor: pointer;
            }

            .assignee-column .assigned-user-name {
                cursor: pointer;
                color: var(--fsu-garnet);
                font-weight: 600;
            }

            .status-column .stage-status {
                padding: 5px 10px;
                border-radius: 15px;
                font-size: 0.8em;
            }

            .status-column .status-in-progress {
                background-color: #2196f3;
                color: white;
            }

            .status-column .status-complete {
                background-color: #4caf50;
                color: white;
            }

            .review-column .approve-review-button {
                background-color: var(--fsu-garnet);
                color: white;
            }

            /* Additional styles for consistent layout */
            .stage-card {
                border-radius: 8px;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            }
            .review-column .review-status-chip {
                padding: 5px 10px;
                border-radius: 15px;
                font-size: 0.8em;
                font-weight: 600;
                background-color: #4caf50;
                color: white;
                display: inline-flex;
                align-items: center;
                gap: 5px;
            }

            .review-column .review-status-chip i {
                font-size: 16px;
                margin-right: 5px;
            }
            .content-topbar {
                display: flex;
                background-color: #f5f5f5;
                border-bottom: 1px solid #e0e0e0;
                padding: 15px;
                border-radius: 8px 8px 0 0;
            }

            .content-topbar .topbar-column {
                flex: 1;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 10px;
            }

            .content-topbar .column-label {
                font-weight: 600;
                color: var(--fsu-garnet);
                text-transform: uppercase;
                font-size: 0.8em;
            }

            .content-topbar .column-content {
                display: flex;
                align-items: center;
                gap: 10px;
            }

            .content-topbar .assignee-column .assigned-user-avatar {
                width: 40px;
                height: 40px;
                border-radius: 50%;
                cursor: pointer;
            }

            .content-topbar .assignee-column .assigned-user-name {
                cursor: pointer;
                color: var(--fsu-garnet);
                font-weight: 600;
            }

            .content-topbar .status-column .stage-status {
                padding: 5px 10px;
                border-radius: 15px;
                font-size: 0.8em;
            }

            .content-topbar .status-column .status-in-progress {
                background-color: #2196f3;
                color: white;
            }

            .content-topbar .status-column .status-complete {
                background-color: #4caf50;
                color: white;
            }

            .content-topbar .review-column .approve-review-button {
                background-color: var(--fsu-garnet);
                color: white;
            }

            .content-topbar .review-column .review-status-chip {
                padding: 5px 10px;
                border-radius: 15px;
                font-size: 0.8em;
                font-weight: 600;
                background-color: #4caf50;
                color: white;
                display: inline-flex;
                align-items: center;
                gap: 5px;
            }

            .content-topbar .review-column .review-status-chip i {
                font-size: 16px;
                margin-right: 5px;
            }
            .content-nav li a {
                display: flex;
                align-items: center;
                gap: 10px;
                padding: 15px;
                color: var(--fsu-garnet);
                text-decoration: none;
                transition: background-color 0.3s ease;
            }

            .content-nav li a i {
                margin-right: 5px;
            }
    .breaking-news-sidebar {
    position: absolute;
    right: 20px;
    width: 280px;
    height: 600px;
    background-color: #fff;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    padding: 10px;
    border-radius: 8px;
    overflow-y: auto;
    scrollbar-width: thin;
    transition: transform 0.3s ease-in-out;
    z-index: 1000;
}
.breaking-news-list li {
    background-color: #f5f5f5;
    padding: 5%;
    margin: 5%;
    border-radius: 6px;
    font-size: 0.9em;
    transition: background-color 0.3s;
    cursor: pointer;
}
.chip {
    display: inline-block;
    font-size: 0.7em;
    margin-right: 4px;
    font-weight: bold;
    color: white;
    margin-top: 5%;
}
.chip-miami { background-color: #FF5733; }
.chip-nc { background-color: #3498DB; }
.chip-acc { background-color: #2ECC71; }
.time-icon {
    font-size: 0.75em;
    color: #777;
    display: flex;
    align-items: center;
    gap: 4px;
}

.breaking-news-header {
    background-color: #ceb888; /* FSU Gold */
    text-align: center;
    padding: 8px;
    font-weight: bold;
    font-size: 1.1em;
    color: #782f40;
    border-radius: 6px;
    margin-bottom: 8px;
}
        </style>
    </head>
    <body>
       
        <div class="container">
<div id="breakingNewsSidebar" class="breaking-news-sidebar">
    <div class="breaking-news-header">
        <h5>Breaking News</h5>
    </div>
    <div class="breaking-news-content">
        <ul id="breakingNewsList" class="breaking-news-list"></ul>
    </div>
</div>
            <div class="project-header">
                <button class="btn edit-button" onclick="toggleEditMode()">
                    <i class="material-icons left">edit</i>Edit
                </button>

                <!-- View Mode -->
                <div id="viewMode">
                    <h4 class="project-title">FSU Football Season 2025</h4>
                    <div class="project-meta">
                        <div class="meta-item">
                            <i class="material-icons">event</i>
                            <span>Created at: January 10, 2025</span>
                        </div>
                        <div class="meta-item">
                            <i class="material-icons">event_available</i>
                            <span>Due Date: March 15, 2025</span>
                        </div>
                        <div class="meta-item">
                            <img
                                src="https://i.pravatar.cc/24?img=11"
                                alt="John Smith"
                            />
                            <span>Created by: John Smith</span>
                        </div>
                        <div class="meta-item">
                            <i class="material-icons">flag</i>
                            <span>Current Stage: Research</span>
                        </div>
                        <div class="meta-item">
                            <i class="material-icons">lock</i>
                            <span>Access Type: Open</span>
                        </div>
                    </div>
                </div>

                <!-- Edit Mode -->
                <div id="editMode" style="display: none">
                    <div class="input-field">
                        <input
                            type="text"
                            id="projectTitle"
                            value="FSU Football Season 2025"
                        />
                        <label for="projectTitle">Project Title</label>
                    </div>
                    <div class="project-meta">
                        <div class="meta-item non-editable">
                            <i class="material-icons">event</i>
                            <span>Created at: January 10, 2025</span>
                        </div>
                        <div class="input-field">
                            <input
                                type="date"
                                id="dueDate"
                                value="2025-03-15"
                            />
                            <label for="dueDate">Due Date</label>
                        </div>
                        <div class="meta-item non-editable">
                            <img
                                src="https://i.pravatar.cc/24?img=11"
                                alt="John Smith"
                            />
                            <span>Created by: John Smith</span>
                        </div>
                        <div class="meta-item non-editable">
                            <i class="material-icons">flag</i>
                            <span>Current Stage: Research</span>
                        </div>
                        <div class="input-field">
                            <select id="accessType" class="browser-default">
                                <option value="Open">Open</option>
                                <option value="Staggered">Staggered</option>
                                <option value="Restricted">Restricted</option>
                            </select>
                            <label
                                for="accessType"
                                style="position: absolute; top: -40px"
                                >Access Type</label
                            >
                        </div>
                    </div>
                    <div class="edit-actions">
                        <button class="btn save-button" onclick="saveChanges()">
                            <i class="material-icons left">save</i>Save
                        </button>
                        <button
                            class="btn cancel-button"
                            onclick="toggleEditMode()"
                        >
                            <i class="material-icons left">cancel</i>Cancel
                        </button>
                    </div>
                </div>
            </div>

            <ul class="tabs">
                <li class="tab">
                    <a href="#information" class="active">Information</a>
                </li>
                <li class="tab"><a href="#research">Research</a></li>
                <li class="tab"><a href="#content">Content Draft</a></li>

                <li class="tab"><a href="#graphics">Graphics</a></li>
                <li class="tab"><a href="#marketing">Marketing</a></li>
            </ul>

            <div class="tab-content">
                <div id="information" class="active">
                    <div class="overview-section" style="position: relative">
                        <h5 style="display: inline-block; margin-right: 50px">
                            Project Overview
                        </h5>
                        <button
                            class="btn-small edit-button"
                            onclick="toggleOverviewEdit()"
                            style="
                                position: absolute;
                                right: 0;
                                top: 0;
                                padding: 0 10px;
                                height: 24px;
                                line-height: 24px;
                            "
                        >
                            <i class="material-icons" style="font-size: 16px"
                                >edit</i
                            >
                        </button>

                        <!-- Overview View Mode -->
                        <div id="overviewViewMode">
                            <p>
                                Comprehensive coverage and analysis of Florida
                                State's 2025 football season including game
                                previews, player profiles, and statistical
                                analysis.
                            </p>
                        </div>

                        <!-- Overview Edit Mode -->
                        <div id="overviewEditMode" style="display: none">
                            <div class="input-field">
                                <textarea
                                    id="projectOverview"
                                    class="materialize-textarea"
                                >
Comprehensive coverage and analysis of Florida State's 2025 football season including game previews, player profiles, and statistical analysis.</textarea
                                >
                                <label for="projectOverview"
                                    >Project Overview</label
                                >
                            </div>
                            <div class="edit-actions" style="margin-top: 10px">
                                <button
                                    class="btn-small save-button"
                                    onclick="saveOverview()"
                                >
                                    <i class="material-icons left">save</i>Save
                                </button>
                                <button
                                    class="btn-small cancel-button"
                                    onclick="toggleOverviewEdit()"
                                >
                                    <i class="material-icons left">cancel</i
                                    >Cancel
                                </button>
                            </div>
                        </div>
                    </div>

                    <h5>Team Members</h5>
                    <div class="team-member">
                        <img
                            src="https://i.pravatar.cc/40?img=11"
                            alt="John Smith"
                        />
                        <div>
                            <div><strong>John Smith</strong></div>
                            <div class="grey-text">Lead Researcher</div>
                        </div>
                    </div>
                    <div class="team-member">
                        <img
                            src="https://i.pravatar.cc/40?img=9"
                            alt="Sarah Johnson"
                        />
                        <div>
                            <div><strong>Sarah Johnson</strong></div>
                            <div class="grey-text">Content Writer</div>
                        </div>
                    </div>
                </div>

                <div id="research" style="display: none">
                    <div class="stage-card">
                        <div class="stage-header">
                            <span class="stage-status status-complete"
                                >Complete</span
                            >
                        </div>

                        <div style="display: flex; gap: 20px; margin-top: 20px">
                            <!-- Vertical Navigation -->
                            <div style="width: 200px">
                                <ul
                                    class="research-nav"
                                    style="
                                        background-color: var(--fsu-gold);
                                        border-radius: 8px;
                                        overflow: hidden;
                                    "
                                >
                                    <li class="active">
                                        <a
                                            href="#documents"
                                            onclick="switchResearchTab('documents', this)"
                                        >
                                            <i class="material-icons"
                                                >description</i
                                            >
                                            Documents
                                        </a>
                                    </li>
                                    <li>
                                        <a
                                            href="#weblinks"
                                            onclick="switchResearchTab('weblinks', this)"
                                        >
                                            <i class="material-icons">link</i>
                                            Web Links
                                        </a>
                                    </li>
                                    <li>
                                        <a
                                            href="#athlyte_search"
                                            onclick="switchResearchTab('athlyte_search', this)"
                                        >
                                            <i class="material-icons">search</i>
                                            Athlyte Search
                                        </a>
                                    </li>
                                    <!-- Change this navigation item -->
                                    <li>
                                        <a
                                            href="#stories"
                                            onclick="switchResearchTab('stories', this)"
                                        >
                                            <i class="material-icons"
                                                >article</i
                                            >
                                            Breaking News
                                        </a>
                                    </li>
                                    <li>
                                        <a
                                            href="#media"
                                            onclick="switchResearchTab('media', this)"
                                        >
                                            <i class="material-icons"
                                                >perm_media</i
                                            >
                                            Media
                                        </a>
                                    </li>
                                </ul>
                            </div>

                            <!-- Content Area -->
                            <div style="flex-grow: 1">
                                <!-- Documents Section -->
                                <div
                                    id="documents"
                                    class="research-content active"
                                >
                                    <div
                                        class="upload-area"
                                        onclick="triggerFileUpload('document')"
                                        id="documentDropArea"
                                    >
                                        <i class="material-icons"
                                            >cloud_upload</i
                                        >
                                        <p>
                                            Drag & drop documents here or click
                                            to upload
                                        </p>
                                        <input
                                            type="file"
                                            id="documentFileInput"
                                            style="display: none"
                                            onchange="handleFileUpload(this, 'document')"
                                            multiple
                                        />
                                    </div>
                                    <div class="document-list">
                                        <div class="document-item">
                                            <i class="material-icons"
                                                >description</i
                                            >
                                            <span>Season Preview Draft</span>
                                            <span class="grey-text"
                                                >Updated 2 days ago</span
                                            >
                                            <div class="actions">
                                                <button
                                                    class="action-button"
                                                    onclick="editDocument(this)"
                                                >
                                                    <i class="material-icons"
                                                        >edit</i
                                                    >
                                                </button>
                                                <button
                                                    class="action-button"
                                                    onclick="deleteDocument(this)"
                                                >
                                                    <i class="material-icons"
                                                        >delete</i
                                                    >
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Web Links Section -->
                                <div
                                    id="weblinks"
                                    class="research-content"
                                    style="display: none"
                                >
                                    <div
                                        style="
                                            margin-bottom: 20px;
                                            display: flex;
                                            justify-content: flex-end;
                                        "
                                    >
                                        <button
                                            class="btn-small"
                                            style="
                                                background-color: var(
                                                    --fsu-garnet
                                                );
                                            "
                                            onclick="openAddLinkModal()"
                                        >
                                            <i class="material-icons left"
                                                >add</i
                                            >Add Link
                                        </button>
                                    </div>
                                    <div class="document-list">
                                        <!-- Example link item -->
                                        <div class="document-item">
                                            <i class="material-icons">link</i>
                                            <span
                                                >FSU Athletics Official
                                                Site</span
                                            >
                                            <span class="grey-text"
                                                >Saved 3 days ago</span
                                            >
                                            <div class="actions">
                                                <button
                                                    class="action-button"
                                                    onclick="editLink(this)"
                                                    data-url="https://seminoles.com"
                                                >
                                                    <i class="material-icons"
                                                        >edit</i
                                                    >
                                                </button>
                                                <button
                                                    class="action-button"
                                                    onclick="deleteLink(this)"
                                                >
                                                    <i class="material-icons"
                                                        >delete</i
                                                    >
                                                </button>
                                                <button
                                                    class="action-button"
                                                    onclick="window.open('https://seminoles.com', '_blank')"
                                                >
                                                    <i class="material-icons"
                                                        >open_in_new</i
                                                    >
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div
                                    id="athlyte_search"
                                    class="research-content"
                                    style="display: none"
                                >
                                    <div
                                        style="
                                            margin-bottom: 20px;
                                            display: flex;
                                            justify-content: flex-end;
                                        "
                                    ></div>
                                </div>
                            <!-- Stories Section -->
                            <div
                                id="stories"
                                class="research-content"
                                style="display: none"
                            >
                                <!-- Filters Section -->
                                <div
                                    class="filters-section"
                                    style="
                                        background-color: #f5f5f5;
                                        padding: 20px;
                                        border-radius: 8px;
                                        margin-bottom: 20px;
                                    "
                                >
                                    <div
                                        style="
                                            display: grid;
                                            grid-template-columns: repeat(
                                                auto-fit,
                                                minmax(200px, 1fr)
                                            );
                                            gap: 20px;
                                        "
                                    >
                                        <!-- Story Type Filter -->
                                        <div class="input-group">
                                            <label>Story Type</label>
                                            <select
                                                class="browser-default"
                                                id="storyType"
                                                onchange="handleStoryTypeChange()"
                                            >
                                                <option value="">
                                                    Select Type
                                                </option>
                                                <option value="team">
                                                    Team
                                                </option>
                                                <option value="player">
                                                    Player
                                                </option>
                                            </select>
                                        </div>

                                        <!-- Player Selection (hidden by default) -->
                                        <div
                                            class="input-group"
                                            id="playerSelection"
                                            style="display: none"
                                        >
                                            <label>Select Player</label>
                                            <select
                                                class="browser-default"
                                                id="playerList"
                                                onchange="handleSelectionChange()"
                                            >
                                                <option value="">
                                                    Select Player
                                                </option>
                                                <option value="1">
                                                    Jordan Travis - QB
                                                </option>
                                                <option value="2">
                                                    Trey Benson - RB
                                                </option>
                                                <option value="3">
                                                    Johnny Wilson - WR
                                                </option>
                                                <option value="4">
                                                    Keon Coleman - WR
                                                </option>
                                                <option value="5">
                                                    Jared Verse - DE
                                                </option>
                                            </select>
                                        </div>

                                        <!-- Game Selection -->
                                        <div class="input-group">
                                            <label>Recent Games</label>
                                            <select
                                                class="browser-default"
                                                id="gameList"
                                                onchange="handleSelectionChange()"
                                            >
                                                <option value="">
                                                    Select Game
                                                </option>
                                                <option value="1">
                                                    Jan 1, 2025 - vs Clemson (W
                                                    31-24)
                                                </option>
                                                <option value="2">
                                                    Jan 15, 2025 - vs Miami (W
                                                    28-17)
                                                </option>
                                                <option value="3">
                                                    Feb 1, 2025 - vs Florida (W
                                                    35-21)
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <!-- Available Stories -->
                                <div class="stories-list" style="display: none">
                                    <div
                                        class="story-item"
                                        style="
                                            background-color: #f5f5f5;
                                            padding: 15px;
                                            border-radius: 8px;
                                            margin-bottom: 15px;
                                        "
                                    >
                                        <div
                                            style="
                                                display: flex;
                                                justify-content: space-between;
                                                align-items: flex-start;
                                            "
                                        >
                                            <div
                                                style="
                                                    flex-grow: 1;
                                                    margin-right: 15px;
                                                "
                                            >
                                                <p style="margin: 0">
                                                    FSU breaks into the top 10
                                                    all time for assists in a
                                                    season with 26 Assists in
                                                    the Miami game and extended
                                                    their streak to 42
                                                    consecutive games with at
                                                    least 3 steals.”
                                                </p>
                                            </div>
                                            <button
                                                class="btn-small"
                                                style="
                                                    background-color: var(
                                                        --fsu-garnet
                                                    );
                                                    min-width: 84px;
                                                "
                                                onclick="addToSelected(this)"
                                            >
                                                Add
                                            </button>
                                        </div>
                                    </div>

                                    <div
                                        class="story-item"
                                        style="
                                            background-color: #f5f5f5;
                                            padding: 15px;
                                            border-radius: 8px;
                                            margin-bottom: 15px;
                                        "
                                    >
                                        <div
                                            style="
                                                display: flex;
                                                justify-content: space-between;
                                                align-items: flex-start;
                                            "
                                        >
                                            <div
                                                style="
                                                    flex-grow: 1;
                                                    margin-right: 15px;
                                                "
                                            >
                                                <p style="margin: 0">
                                                    Lawrence Toafili scored 24
                                                    rushing yards against North
                                                    Carolina. This is his first
                                                    game with over 20 rushing
                                                    yards
                                                </p>
                                            </div>
                                            <button
                                                class="btn-small"
                                                style="
                                                    background-color: var(
                                                        --fsu-garnet
                                                    );
                                                    min-width: 84px;
                                                "
                                                onclick="addToSelected(this)"
                                            >
                                                Add
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <!-- No Results Message -->
                                <div
                                    id="noStoriesMessage"
                                    style="
                                        text-align: center;
                                        padding: 20px;
                                        display: none;
                                    "
                                >
                                    <i
                                        class="material-icons"
                                        style="font-size: 48px; color: #ccc"
                                        >search_off</i
                                    >
                                    <p>
                                        Select a type and game to view relevant
                                        stories
                                    </p>
                                </div>

                                <!-- Selected Stories Section -->
                                <div
                                    class="selected-stories-section"
                                    style="margin-top: 30px"
                                >
                                    <div
                                        style="
                                            display: flex;
                                            justify-content: space-between;
                                            align-items: center;
                                            margin-bottom: 15px;
                                        "
                                    >
                                        <h6
                                            style="
                                                color: var(--fsu-garnet);
                                                margin: 0;
                                            "
                                        >
                                            Selected Stories
                                        </h6>
                                    </div>
                                    <div
                                        id="selectedStories"
                                        style="
                                            min-height: 100px;
                                            border: 2px dashed #ccc;
                                            border-radius: 8px;
                                            padding: 15px;
                                        "
                                    >
                                        <div
                                            id="noSelectedMessage"
                                            style="
                                                text-align: center;
                                                color: #888;
                                                padding: 20px;
                                            "
                                        >
                                            No stories selected yet
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Media Section -->
                            <div
                                id="media"
                                class="research-content"
                                style="display: none"
                            >
                                <div
                                    class="upload-area"
                                    onclick="triggerFileUpload('media')"
                                    id="mediaDropArea"
                                >
                                    <i class="material-icons">cloud_upload</i>
                                    <p>
                                        Drag & drop media files here or click to
                                        upload
                                    </p>
                                    <input
                                        type="file"
                                        id="mediaFileInput"
                                        style="display: none"
                                        onchange="handleFileUpload(this, 'media')"
                                        multiple
                                        accept="image/*,video/*"
                                    />
                                </div>
                                <div class="document-list">
                                    <div class="document-item">
                                        <i class="material-icons">image</i>
                                        <span>Game Photos Collection</span>
                                        <span class="grey-text"
                                            >Added 2 days ago</span
                                        >
                                        <div class="actions">
                                            <button
                                                class="action-button"
                                                onclick="editMedia(this)"
                                            >
                                                <i class="material-icons"
                                                    >edit</i
                                                >
                                            </button>
                                            <button
                                                class="action-button"
                                                onclick="deleteMedia(this)"
                                            >
                                                <i class="material-icons"
                                                    >delete</i
                                                >
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="content" style="display: none">
                <div class="stage-card">
                    <div class="content-topbar">
                        <div class="topbar-column assignee-column">
                            <div class="column-label">Assigned To</div>
                            <div class="column-content">
                                <img
                                    src="https://i.pravatar.cc/40?img=9"
                                    alt="Assigned User"
                                    class="assigned-user-avatar"
                                    onclick="openContentAssignmentModal()"
                                />
                                <span
                                    class="assigned-user-name"
                                    onclick="openContentAssignmentModal()"
                                >
                                    Sarah Johnson
                                </span>
                            </div>
                        </div>
                        <div class="topbar-column status-column">
                            <div class="column-label">Status</div>
                            <div class="column-content">
                                <span class="stage-status status-in-progress"
                                    >In Progress</span
                                >
                            </div>
                        </div>
                        <div class="topbar-column review-column">
                            <div class="column-label">Review</div>
                            <div class="column-content">
                                <button
                                    class="btn-small approve-review-button"
                                    onclick="approveContentReview()"
                                >
                                    <i class="material-icons left"
                                        >check_circle</i
                                    >Approve Review
                                </button>
                            </div>
                        </div>
                    </div>

                    <div style="display: flex; gap: 20px; margin-top: 20px">
                        <!-- Vertical Navigation -->
                        <div style="width: 200px">
                            <ul
                                class="content-nav"
                                style="
                                    background-color: var(--fsu-gold);
                                    border-radius: 8px;
                                    overflow: hidden;
                                "
                            >
                                <li class="content-format-item">
                                    <a
                                        href="#pressRelease"
                                        onclick="switchContentFormat('pressRelease', this)"
                                    >
                                        <i class="material-icons"
                                            >description</i
                                        >
                                        Press Release
                                    </a>
                                </li>
                                <li class="content-format-item">
                                    <a
                                        href="#socialMedia"
                                        onclick="switchContentFormat('socialMedia', this)"
                                    >
                                        <i class="material-icons">share</i>
                                        Social Media Post
                                    </a>
                                </li>
                                <li>
                                    <a
                                        href="#addMore"
                                        onclick="showAddMoreContent()"
                                    >
                                        <i class="material-icons">add_circle</i>
                                        Add More
                                    </a>
                                </li>
                            </ul>
                        </div>

                        <!-- Content Editing Area -->
                        <div style="flex-grow: 1; display: flex">
                            <div style="flex-grow: 1; margin-right: 20px">
                                <!-- Content Format Sections -->
                                <div
                                    id="pressRelease"
                                    class="content-format-section"
                                    style="display: none"
                                >
                                    <div class="version-control">
                                        <label for="pressReleaseVersions"
                                            >Versions:</label
                                        >
                                        <select
                                            id="pressReleaseVersions"
                                            class="browser-default"
                                            onchange="loadContentVersion('pressRelease', this.value)"
                                        >
                                            <option value="v1">
                                                Version 1: 2 hours ago
                                            </option>
                                            <option value="v2">
                                                Version 2: 1 hour ago
                                            </option>
                                            <option value="v3">
                                                Version 3: 30 minutes ago
                                            </option>
                                        </select>
                                    </div>
                                    <div class="input-group">
                                        <textarea
                                            id="pressReleaseContent"
                                            class="materialize-textarea"
                                            placeholder="Write your press release here..."
                                        ></textarea>
                                    </div>
                                    <div
                                        class="content-actions"
                                        style="margin-top: 15px"
                                    >
                                        <button
                                            class="btn"
                                            style="
                                                background-color: var(
                                                    --fsu-garnet
                                                );
                                                color: white;
                                            "
                                            onclick="rewriteWithAI('pressRelease')"
                                        >
                                            <i class="material-icons left"
                                                >auto_fix_high</i
                                            >Rewrite with AI
                                        </button>
                                        <button
                                            class="btn save-button"
                                            onclick="saveContentVersion('pressRelease')"
                                        >
                                            <i class="material-icons left"
                                                >save</i
                                            >Save Version
                                        </button>
                                    </div>
                                </div>

                                <div
                                    id="socialMedia"
                                    class="content-format-section"
                                    style="display: none"
                                >
                                    <div class="version-control">
                                        <label for="socialMediaVersions"
                                            >Versions:</label
                                        >
                                        <select
                                            id="socialMediaVersions"
                                            class="browser-default"
                                            onchange="loadContentVersion('socialMedia', this.value)"
                                        >
                                            <option value="v1">
                                                Version 1: 2 hours ago
                                            </option>
                                            <option value="v2">
                                                Version 2: 1 hour ago
                                            </option>
                                            <option value="v3">
                                                Version 3: 30 minutes ago
                                            </option>
                                        </select>
                                    </div>
                                    <div class="input-group">
                                        <textarea
                                            id="socialMediaContent"
                                            class="materialize-textarea"
                                            placeholder="Write your social media post here..."
                                        ></textarea>
                                    </div>
                                    <div
                                        class="content-actions"
                                        style="margin-top: 15px"
                                    >
                                        <button
                                            class="btn"
                                            style="
                                                background-color: var(
                                                    --fsu-garnet
                                                );
                                                color: white;
                                            "
                                            onclick="rewriteWithAI('pressRelease')"
                                        >
                                            <i class="material-icons left"
                                                >auto_fix_high</i
                                            >Rewrite with AI
                                        </button>
                                        <button
                                            class="btn save-button"
                                            onclick="saveContentVersion('socialMedia')"
                                        >
                                            <i class="material-icons left"
                                                >save</i
                                            >Save Version
                                        </button>
                                    </div>
                                </div>

                                <div
                                    id="addMoreContent"
                                    style="
                                        display: none;
                                        text-align: center;
                                        padding: 20px;
                                    "
                                >
                                    <p>
                                        Select a content format from the
                                        navigation to get started.
                                    </p>
                                </div>
                            </div>

                            <!-- Related Content Sidebar -->
                            <div
                                class="related-content-sidebar"
                                style="
                                    width: 300px;
                                    background-color: #f5f5f5;
                                    border-radius: 8px;
                                    padding: 20px;
                                "
                            >
                                <h6
                                    style="
                                        color: var(--fsu-garnet);
                                        margin-bottom: 20px;
                                        border-bottom: 2px solid var(--fsu-gold);
                                        padding-bottom: 10px;
                                    "
                                >
                                    Related Content
                                </h6>

                                <ul class="collapsible expandable">
                                    <li>
                                        <div class="collapsible-header">
                                            <i class="material-icons">article</i
                                            >Selected Stories
                                        </div>
                                        <div class="collapsible-body">
                                            <div
                                                id="relatedStoriesContent"
                                                class="related-items"
                                            >
                                                <p class="no-content-message">
                                                    No stories selected
                                                </p>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="collapsible-header">
                                            <i class="material-icons"
                                                >description</i
                                            >Documents
                                        </div>
                                        <div class="collapsible-body">
                                            <div
                                                id="relatedDocumentsContent"
                                                class="related-items"
                                            >
                                                <p class="no-content-message">
                                                    No documents available
                                                </p>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="collapsible-header">
                                            <i class="material-icons">link</i
                                            >Web Links
                                        </div>
                                        <div class="collapsible-body">
                                            <div
                                                id="relatedLinksContent"
                                                class="related-items"
                                            >
                                                <p class="no-content-message">
                                                    No links available
                                                </p>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="graphics" style="display: none">
                <div class="stage-card">
                    <div class="graphics-topbar">
                        <div class="topbar-column assignee-column">
                            <div class="column-label">Assigned To</div>
                            <div class="column-content">
                                <img
                                    src="https://i.pravatar.cc/40?img=12"
                                    alt="Assigned User"
                                    class="assigned-user-avatar"
                                    onclick="openGraphicsAssignmentModal()"
                                />
                                <span
                                    class="assigned-user-name"
                                    onclick="openGraphicsAssignmentModal()"
                                    >Sarah Thompson</span
                                >
                            </div>
                        </div>
                        <div class="topbar-column status-column">
                            <div class="column-label">Status</div>
                            <div class="column-content">
                                <span class="stage-status status-in-progress"
                                    >In Progress</span
                                >
                            </div>
                        </div>
                        <div class="topbar-column review-column">
                            <div class="column-label">Review</div>
                            <div class="column-content">
                                <button
                                    class="btn-small approve-review-button"
                                    onclick="approveGraphicsReview()"
                                >
                                    <i class="material-icons left"
                                        >check_circle</i
                                    >Approve Review
                                </button>
                            </div>
                        </div>
                    </div>

                    <div style="display: flex; gap: 20px; margin-top: 20px">
                        <!-- Vertical Navigation -->

                        <div style="width: 200px">
                            <ul
                                class="graphics-nav"
                                style="
                                    background-color: var(--fsu-gold);
                                    border-radius: 8px;
                                    overflow: hidden;
                                "
                            >
                                <li class="active">
                                    <a
                                        href="#pressReleaseGraphics"
                                        onclick="switchGraphicsTab('pressReleaseGraphics', this)"
                                    >
                                        <i class="material-icons"
                                            >description</i
                                        >
                                        Press Release Graphics
                                    </a>
                                </li>
                                <li>
                                    <a
                                        href="#socialMediaGraphics"
                                        onclick="switchGraphicsTab('socialMediaGraphics', this)"
                                    >
                                        <i class="material-icons">share</i>
                                        Social Media Graphics
                                    </a>
                                </li>
                            </ul>
                        </div>

                        <!-- Content Area -->
                        <div style="flex-grow: 1">
                            <!-- Press Release Graphics Section -->
                            <div
                                id="pressReleaseGraphics"
                                class="graphics-content active"
                            >
                                <div
                                    style="
                                        margin-bottom: 20px;
                                        display: flex;
                                        justify-content: flex-end;
                                    "
                                >
                                    <button
                                        class="btn-small add-graphics-button"
                                        onclick="openGraphicsModal()"
                                    >
                                        <i class="material-icons left">add</i
                                        >Add Graphics
                                    </button>
                                </div>

                                <div class="graphics-preview">
                                    <h6>Selected Graphics for Press Release</h6>
                                    <div
                                        id="pressReleaseGraphicsList"
                                        class="media-grid"
                                    >
                                        <!-- Dynamically populated graphics will appear here -->
                                        <p class="no-content-message">
                                            No graphics selected yet
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <!-- Social Media Graphics Section -->
                            <div
                                id="socialMediaGraphics"
                                class="graphics-content"
                                style="display: none"
                            >
                                <div
                                    style="
                                        margin-bottom: 20px;
                                        display: flex;
                                        justify-content: flex-end;
                                    "
                                >
                                    <button
                                        class="btn-small add-graphics-button"
                                        onclick="openGraphicsModal()"
                                    >
                                        <i class="material-icons left">add</i
                                        >Add Graphics
                                    </button>
                                </div>
                                <div class="graphics-preview">
                                    <h6>Selected Graphics for Social Media</h6>
                                    <div
                                        id="socialMediaGraphicsList"
                                        class="media-grid"
                                    >
                                        <!-- Dynamically populated graphics will appear here -->
                                        <p class="no-content-message">
                                            No graphics selected yet
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Graphics Assignment Modal -->
            <div id="graphicsAssignmentModal" class="modal">
                <div class="modal-content">
                    <h5>Assign Graphics Task</h5>
                    <div class="team-member-list">
                        <div
                            class="team-member"
                            onclick="selectGraphicsAssignee(this)"
                        >
                            <img
                                src="https://i.pravatar.cc/40?img=11"
                                alt="John Smith"
                            />
                            <div>
                                <div><strong>John Smith</strong></div>
                                <div class="grey-text">Lead Researcher</div>
                            </div>
                        </div>
                        <div
                            class="team-member"
                            onclick="selectGraphicsAssignee(this)"
                        >
                            <img
                                src="https://i.pravatar.cc/40?img=12"
                                alt="Sarah Thompson"
                            />
                            <div>
                                <div><strong>Sarah Thompson</strong></div>
                                <div class="grey-text">Graphics Designer</div>
                            </div>
                        </div>
                        <div
                            class="team-member"
                            onclick="selectGraphicsAssignee(this)"
                        >
                            <img
                                src="https://i.pravatar.cc/40?img=9"
                                alt="Sarah Johnson"
                            />
                            <div>
                                <div><strong>Sarah Johnson</strong></div>
                                <div class="grey-text">Content Writer</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="modal-close btn-flat">Cancel</button>
                    <button
                        class="btn save-button"
                        onclick="saveGraphicsAssignee()"
                    >
                        <i class="material-icons left">save</i>Save
                    </button>
                </div>
            </div>

            <!-- Content Assignment Modal -->
            <div id="contentAssignmentModal" class="modal">
                <div class="modal-content">
                    <h5>Assign Content Task</h5>
                    <div class="team-member-list">
                        <div
                            class="team-member"
                            onclick="selectContentAssignee(this)"
                        >
                            <img
                                src="https://i.pravatar.cc/40?img=11"
                                alt="John Smith"
                            />
                            <div>
                                <div><strong>John Smith</strong></div>
                                <div class="grey-text">Lead Researcher</div>
                            </div>
                        </div>
                        <div
                            class="team-member"
                            onclick="selectContentAssignee(this)"
                        >
                            <img
                                src="https://i.pravatar.cc/40?img=12"
                                alt="Sarah Thompson"
                            />
                            <div>
                                <div><strong>Sarah Thompson</strong></div>
                                <div class="grey-text">Graphics Designer</div>
                            </div>
                        </div>
                        <div
                            class="team-member"
                            onclick="selectContentAssignee(this)"
                        >
                            <img
                                src="https://i.pravatar.cc/40?img=9"
                                alt="Sarah Johnson"
                            />
                            <div>
                                <div><strong>Sarah Johnson</strong></div>
                                <div class="grey-text">Content Writer</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="modal-close btn-flat">Cancel</button>
                    <button
                        class="btn save-button"
                        onclick="saveContentAssignee()"
                    >
                        <i class="material-icons left">save</i>Save
                    </button>
                </div>
            </div>
            <!-- Graphics Selection Modal -->
            <div id="graphicsModal" class="modal" style="max-width: 800px">
                <div class="modal-content">
                    <h5>Add Graphics</h5>
                    <div class="graphics-selection-tabs">
                        <ul class="tabs">
                            <li class="tab">
                                <a href="#researchMedia" class="active"
                                    >Research Media</a
                                >
                            </li>
                            <li class="tab">
                                <a href="#teamGallery">Team Gallery</a>
                            </li>
                            <li class="tab">
                                <a href="#stockMedia">Stock Media</a>
                            </li>
                        </ul>

                        <div id="researchMedia" class="media-tab active">
                            <div class="media-grid">
                                <!-- Dynamically populated from research media -->
                                <p>Select media from the Research tab</p>
                            </div>
                        </div>

                        <div
                            id="teamGallery"
                            class="media-tab"
                            style="display: none"
                        >
                            <div class="media-grid">
                                <!-- Predefined team gallery images -->
                                <div class="media-item">
                                    <img
                                        src="https://cdn.vox-cdn.com/thumbor/ou8ZNJ1k7dXSfxqV6Ts9mnYy4cE=/0x0:6971x4647/1200x800/filters:focal(2929x1767:4043x2881)/cdn.vox-cdn.com/uploads/chorus_image/image/73561352/BAK_2387.0.jpeg"
                                        alt="Jordan Travis - Quarterback"
                                    />
                                    <button
                                        class="btn-small"
                                        onclick="selectGraphic(this)"
                                    >
                                        Select
                                    </button>
                                </div>
                                <div class="media-item">
                                    <img
                                        src="https://www.orlandosentinel.com/wp-content/uploads/2023/06/TNS_SPORTS-FBC-FSU-TITLE-OS.jpg?w=1024&h=768"
                                        alt="Trey Benson - Running Back"
                                    />
                                    <button
                                        class="btn-small"
                                        onclick="selectGraphic(this)"
                                    >
                                        Select
                                    </button>
                                </div>
                                <div class="media-item">
                                    <img
                                        src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSPzyd5DCz0p__8jGhYggGF4lwcGjb_PbW7Sg&s"
                                        alt="Johnny Wilson - Wide Receiver"
                                    />
                                    <button
                                        class="btn-small"
                                        onclick="selectGraphic(this)"
                                    >
                                        Select
                                    </button>
                                </div>
                                <div class="media-item">
                                    <img
                                        src="https://s7d2.scene7.com/is/image/TWCNews/Florida%20State%20Football%20web%20GFX"
                                        alt="Keon Coleman - Wide Receiver"
                                    />
                                    <button
                                        class="btn-small"
                                        onclick="selectGraphic(this)"
                                    >
                                        Select
                                    </button>
                                </div>
                                <div class="media-item">
                                    <img
                                        src="https://cdn.vox-cdn.com/thumbor/eshCSem8XtvxWSQeHwY0O5ptxqI=/0x0:7270x4847/1200x800/filters:focal(3054x1843:4216x3005)/cdn.vox-cdn.com/uploads/chorus_image/image/72928055/fsu_vs_miami_final_tn_10_3.0.jpg"
                                        alt="Jared Verse - Defensive End"
                                    />
                                    <button
                                        class="btn-small"
                                        onclick="selectGraphic(this)"
                                    >
                                        Select
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div
                            id="stockMedia"
                            class="media-tab"
                            style="display: none"
                        >
                            <div class="media-grid">
                                <!-- Stock media images -->
                                <div class="media-item">
                                    <img
                                        src="/api/placeholder/200/150"
                                        alt="Football Stadium"
                                    />
                                    <button
                                        class="btn-small"
                                        onclick="selectGraphic(this)"
                                    >
                                        Select
                                    </button>
                                </div>
                                <div class="media-item">
                                    <img
                                        src="/api/placeholder/200/150"
                                        alt="Player Silhouette"
                                    />
                                    <button
                                        class="btn-small"
                                        onclick="selectGraphic(this)"
                                    >
                                        Select
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="modal-close btn-flat">Cancel</button>
                    <button
                        class="btn save-button"
                        onclick="saveSelectedGraphics()"
                    >
                        <i class="material-icons left">save</i>Save
                    </button>
                </div>

                <div id="marketing" style="display: none">
                    <div class="stage-card">
                        <div class="stage-header">
                            <span class="stage-status status-not-started"
                                >Not Started</span
                            >
                        </div>
                        <p>
                            Marketing strategy and campaign planning will begin
                            after content approval.
                        </p>
                        <ul class="document-list">
                            <li>
                                <i class="material-icons">description</i>
                                Marketing Plan Template
                            </li>
                            <li>
                                <i class="material-icons">description</i>
                                Distribution Channels
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <div id="addDocumentModal" class="modal">
                <div class="modal-content">
                    <h5>Add Document</h5>
                    <div class="input-group">
                        <label for="documentTitle">Document Title</label>
                        <input
                            type="text"
                            id="documentTitle"
                            placeholder="Enter document title"
                        />
                    </div>
                    <div class="input-group">
                        <label for="documentType">Document Type</label>
                        <select id="documentType" class="browser-default">
                            <option value="document">Document</option>
                            <option value="spreadsheet">Spreadsheet</option>
                            <option value="presentation">Presentation</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="modal-close btn-flat">Cancel</button>
                    <button class="btn save-button" onclick="saveDocument()">
                        Save
                    </button>
                </div>
            </div>

            <!-- Add Web Link Modal -->
            <div id="addLinkModal" class="modal">
                <div class="modal-content">
                    <h5>Add Web Link</h5>
                    <div class="input-group">
                        <label for="linkTitle">Link Title</label>
                        <input
                            type="text"
                            id="linkTitle"
                            placeholder="Enter link title"
                        />
                    </div>
                    <div class="input-group">
                        <label for="linkUrl">URL</label>
                        <input
                            type="url"
                            id="linkUrl"
                            placeholder="https://..."
                        />
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="modal-close btn-flat">Cancel</button>
                    <button class="btn save-button" onclick="saveWebLink()">
                        Save
                    </button>
                </div>
            </div>
        </div>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                var tabs = document.querySelectorAll(".tabs");
                var instances = M.Tabs.init(tabs, {
                    onShow: function (content) {
                        // Hide all tab content
                        document
                            .querySelectorAll(".tab-content > div")
                            .forEach((div) => {
                                div.style.display = "none";
                            });
                        // Show selected tab content
                        content.style.display = "block";
                    },
                });
            });

            function toggleEditMode() {
                const viewMode = document.getElementById("viewMode");
                const editMode = document.getElementById("editMode");
                const isEditing = viewMode.style.display === "none";

                viewMode.style.display = isEditing ? "block" : "none";
                editMode.style.display = isEditing ? "none" : "block";
            }

            function saveChanges() {
                // Get values from form
                const title = document.getElementById("projectTitle").value;
                const dueDate = document.getElementById("dueDate").value;
                const accessType = document.getElementById("accessType").value;

                // Update view mode content
                document.querySelector(".project-title").textContent = title;
                document.querySelector(
                    ".meta-item:nth-child(2) span",
                ).textContent = `Due Date: ${formatDate(dueDate)}`;
                document.querySelector(
                    ".meta-item:nth-child(5) span",
                ).textContent = `Access Type: ${accessType}`;

                // back to view mode
                toggleEditMode();

                // Show success message
                M.toast({ html: "Changes saved successfully!" });
            }

            function switchResearchTab(tabId, element) {
                // Update navigation active state
                document
                    .querySelectorAll(".research-nav li")
                    .forEach((li) => li.classList.remove("active"));
                element.parentElement.classList.add("active");

                // Update content visibility
                document
                    .querySelectorAll(".research-content")
                    .forEach((content) => {
                        content.style.display = "none";
                    });
                document.getElementById(tabId).style.display = "block";
            }

            function formatDate(dateString) {
                const options = {
                    year: "numeric",
                    month: "long",
                    day: "numeric",
                };
                return new Date(dateString).toLocaleDateString(
                    "en-US",
                    options,
                );
            }

            function toggleOverviewEdit() {
                const viewMode = document.getElementById("overviewViewMode");
                const editMode = document.getElementById("overviewEditMode");
                const isEditing = viewMode.style.display === "none";

                viewMode.style.display = isEditing ? "block" : "none";
                editMode.style.display = isEditing ? "none" : "block";

                if (!isEditing) {
                    // Initialize textarea when switching to edit mode
                    M.textareaAutoResize(
                        document.getElementById("projectOverview"),
                    );
                    // Focus the textarea
                    document.getElementById("projectOverview").focus();
                }
            }

            function saveOverview() {
                // Get the new overview text
                const overview =
                    document.getElementById("projectOverview").value;

                // Update the view mode content
                document.querySelector("#overviewViewMode p").textContent =
                    overview;

                // Switch back to view mode
                toggleOverviewEdit();

                // Show success message
                M.toast({ html: "Project overview updated successfully!" });
            }

            document.addEventListener("DOMContentLoaded", function () {
                var modals = document.querySelectorAll(".modal");
                M.Modal.init(modals);
            });

            // File upload handling
            function triggerFileUpload(type) {
                document.getElementById(type + "FileInput").click();
            }

            function handleFileUpload(input, type) {
                const files = input.files;
                if (files.length === 0) return;

                // Handle each uploaded file
                Array.from(files).forEach((file) => {
                    const documentItem = createDocumentItem({
                        name: file.name,
                        type: type,
                        date: new Date().toLocaleDateString(),
                    });
                    document
                        .querySelector(".document-list")
                        .appendChild(documentItem);
                });

                // Show success message
                M.toast({
                    html: `${files.length} file(s) uploaded successfully!`,
                });
            }

            // Drag and drop handling
            ["dragenter", "dragover", "dragleave", "drop"].forEach(
                (eventName) => {
                    document
                        .getElementById("documentDropArea")
                        .addEventListener(eventName, preventDefaults, false);
                },
            );

            function preventDefaults(e) {
                e.preventDefault();
                e.stopPropagation();
            }

            document
                .getElementById("documentDropArea")
                .addEventListener("drop", handleDrop, false);

            function handleDrop(e) {
                const dt = e.dataTransfer;
                const files = dt.files;

                handleFileUpload({ files: files }, "document");
            }

            // Modal handling
            function openAddDocumentModal() {
                const modal = M.Modal.getInstance(
                    document.getElementById("addDocumentModal"),
                );
                modal.open();
            }

            function saveDocument() {
                const title = document.getElementById("documentTitle").value;
                const type = document.getElementById("documentType").value;

                if (!title) {
                    M.toast({ html: "Please enter a document title" });
                    return;
                }

                const documentItem = createDocumentItem({
                    name: title,
                    type: type,
                    date: new Date().toLocaleDateString(),
                });
                document
                    .querySelector(".document-list")
                    .appendChild(documentItem);

                // Close modal and reset form
                const modal = M.Modal.getInstance(
                    document.getElementById("addDocumentModal"),
                );
                modal.close();
                document.getElementById("documentTitle").value = "";

                M.toast({ html: "Document added successfully!" });
            }

            function createDocumentItem(doc) {
                const div = document.createElement("div");
                div.className = "document-item";
                div.innerHTML = `
                    <i class="material-icons">description</i>
                    <span>${doc.name}</span>
                    <span class="grey-text">Added ${doc.date}</span>
                    <div class="actions">
                        <button class="action-button" onclick="editDocument(this)">
                            <i class="material-icons">edit</i>
                        </button>
                        <button class="action-button" onclick="deleteDocument(this)">
                            <i class="material-icons">delete</i>
                        </button>
                    </div>
                `;
                return div;
            }

            function editDocument(button) {
                const documentItem = button.closest(".document-item");
                const titleSpan = documentItem.querySelector("span");
                const currentTitle = titleSpan.textContent;

                const newTitle = prompt("Edit document title:", currentTitle);
                if (newTitle && newTitle !== currentTitle) {
                    titleSpan.textContent = newTitle;
                    M.toast({ html: "Document updated successfully!" });
                }
            }

            function deleteDocument(button) {
                if (confirm("Are you sure you want to delete this document?")) {
                    const documentItem = button.closest(".document-item");
                    documentItem.remove();
                    M.toast({ html: "Document deleted successfully!" });
                }
            }

            // Web Links handling
            function openAddLinkModal() {
                const modal = M.Modal.getInstance(
                    document.getElementById("addLinkModal"),
                );
                modal.open();
            }

            function saveWebLink() {
                const title = document.getElementById("linkTitle").value;
                const url = document.getElementById("linkUrl").value;

                if (!title || !url) {
                    M.toast({ html: "Please enter both title and URL" });
                    return;
                }

                // Validate URL
                try {
                    new URL(url);
                } catch (e) {
                    M.toast({ html: "Please enter a valid URL" });
                    return;
                }

                const linkItem = createLinkItem({
                    name: title,
                    url: url,
                    date: new Date().toLocaleDateString(),
                });
                document
                    .querySelector("#weblinks .document-list")
                    .appendChild(linkItem);

                // Close modal and reset form
                const modal = M.Modal.getInstance(
                    document.getElementById("addLinkModal"),
                );
                modal.close();
                document.getElementById("linkTitle").value = "";
                document.getElementById("linkUrl").value = "";

                M.toast({ html: "Web link added successfully!" });
            }

            function createLinkItem(link) {
                const div = document.createElement("div");
                div.className = "document-item";
                div.innerHTML = `
                    <i class="material-icons">link</i>
                    <span>${link.name}</span>
                    <span class="grey-text">Added ${link.date}</span>
                    <div class="actions">
                        <button class="action-button" onclick="editLink(this)" data-url="${link.url}">
                            <i class="material-icons">edit</i>
                        </button>
                        <button class="action-button" onclick="deleteLink(this)">
                            <i class="material-icons">delete</i>
                        </button>
                        <button class="action-button" onclick="window.open('${link.url}', '_blank')">
                            <i class="material-icons">open_in_new</i>
                        </button>
                    </div>
                `;
                return div;
            }

            function editLink(button) {
                const linkItem = button.closest(".document-item");
                const titleSpan = linkItem.querySelector("span");
                const currentTitle = titleSpan.textContent;
                const currentUrl = button.dataset.url;

                const newTitle = prompt("Edit link title:", currentTitle);
                if (newTitle && newTitle !== currentTitle) {
                    titleSpan.textContent = newTitle;
                    const newUrl = prompt("Edit link URL:", currentUrl);
                    if (newUrl && newUrl !== currentUrl) {
                        button.dataset.url = newUrl;
                    }
                    M.toast({ html: "Link updated successfully!" });
                }
            }

            function deleteLink(button) {
                if (confirm("Are you sure you want to delete this link?")) {
                    const linkItem = button.closest(".document-item");
                    linkItem.remove();
                    M.toast({ html: "Link deleted successfully!" });
                }
            }

            // Updated file upload handling
            function handleFileUpload(input, type) {
                const files = input.files;
                if (files.length === 0) return;

                // Determine which list to add to based on type
                const listSelector =
                    type === "media"
                        ? "#media .document-list"
                        : "#documents .document-list";

                // Handle each uploaded file
                Array.from(files).forEach((file) => {
                    const isMedia = type === "media";
                    const icon = isMedia
                        ? file.type.startsWith("image/")
                            ? "image"
                            : "videocam"
                        : "description";

                    const item = createFileItem({
                        name: file.name,
                        type: type,
                        icon: icon,
                        date: new Date().toLocaleDateString(),
                    });
                    document.querySelector(listSelector).appendChild(item);
                });

                // Show success message
                M.toast({
                    html: `${files.length} file(s) uploaded successfully!`,
                });
            }

            function createFileItem(file) {
                const div = document.createElement("div");
                div.className = "document-item";
                div.innerHTML = `
                    <i class="material-icons">${file.icon}</i>
                    <span>${file.name}</span>
                    <span class="grey-text">Added ${file.date}</span>
                    <div class="actions">
                        <button class="action-button" onclick="editDocument(this)">
                            <i class="material-icons">edit</i>
                        </button>
                        <button class="action-button" onclick="deleteDocument(this)">
                            <i class="material-icons">delete</i>
                        </button>
                    </div>
                `;
                return div;
            }

            function handleStoryTypeChange() {
                const storyType = document.getElementById("storyType").value;
                const playerSelection =
                    document.getElementById("playerSelection");

                if (storyType === "player") {
                    playerSelection.style.display = "block";
                } else {
                    playerSelection.style.display = "none";
                }
                handleSelectionChange();
            }

            function handleSelectionChange() {
                const storyType = document.getElementById("storyType").value;
                const playerList = document.getElementById("playerList");
                const gameList = document.getElementById("gameList").value;
                const storiesList = document.querySelector(".stories-list");
                const noStoriesMessage =
                    document.getElementById("noStoriesMessage");

                // Show stories only if we have all required selections
                if (
                    storyType &&
                    gameList &&
                    (storyType === "team" ||
                        (storyType === "player" && playerList.value))
                ) {
                    storiesList.style.display = "block";
                    noStoriesMessage.style.display = "none";

                    // Here you would typically fetch and display relevant stories
                    // For now, we're just showing the example stories
                } else {
                    storiesList.style.display = "none";
                    noStoriesMessage.style.display = "block";
                }
            }

            function addToContent(button) {
                const storyItem = button.closest(".story-item");
                const content = storyItem.querySelector("p").textContent;
                const source =
                    storyItem.querySelector(".grey-text").textContent;

                // Add the story to the content tab
                const contentList = document.querySelector(
                    "#content .document-list",
                );

                const newItem = document.createElement("div");
                newItem.className = "document-item";
                newItem.style.backgroundColor = "#f5f5f5";
                newItem.style.padding = "15px";
                newItem.style.borderRadius = "8px";
                newItem.style.marginBottom = "15px";
                newItem.innerHTML = `
                    <i class="material-icons">article</i>
                    <div style="flex-grow: 1;">
                        <p style="margin: 0;">${content}</p>
                        <span class="grey-text" style="font-size: 0.9em;">${source}</span>
                    </div>
                `;

                contentList.appendChild(newItem);

                // Show success message
                M.toast({ html: "Story added to content!" });

                // Disable the add button
                button.disabled = true;
                button.textContent = "Added";
            }

            function addToSelected(button) {
                const storyItem = button.closest(".story-item");
                const content = storyItem.querySelector("div > p").textContent;

                // Remove the "no stories selected" message if it exists
                const noSelectedMessage =
                    document.getElementById("noSelectedMessage");
                if (noSelectedMessage) {
                    noSelectedMessage.remove();
                }

                // Create new story item in selected stories
                const selectedStoriesContainer =
                    document.getElementById("selectedStories");
                const newItem = document.createElement("div");
                newItem.className = "story-item";
                newItem.style.backgroundColor = "#f5f5f5";
                newItem.style.padding = "15px";
                newItem.style.borderRadius = "8px";
                newItem.style.marginBottom = "15px";
                newItem.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                        <div style="flex-grow: 1; margin-right: 15px;">
                            <p style="margin: 0;">${content}</p>
                        </div>
                        <button class="btn-small" style="background-color: #9e9e9e; min-width: 84px;" onclick="removeFromSelected(this)">
                            Remove
                        </button>
                    </div>
                `;

                selectedStoriesContainer.appendChild(newItem);

                // Disable the add button
                button.disabled = true;
                button.textContent = "Added";

                // Show success message
                M.toast({ html: "Story selected!" });
            }

            function removeFromSelected(button) {
                const storyItem = button.closest(".story-item");
                const content = storyItem.querySelector("div > p").textContent;

                // Find and re-enable the original add button
                document
                    .querySelectorAll(".stories-list .story-item")
                    .forEach((item) => {
                        if (
                            item.querySelector("div > p").textContent ===
                            content
                        ) {
                            const addButton = item.querySelector("button");
                            addButton.disabled = false;
                            addButton.textContent = "Add";
                        }
                    });

                // Remove the item from selected stories
                storyItem.remove();

                // Show "no stories selected" message if no stories are left
                const selectedStoriesContainer =
                    document.getElementById("selectedStories");
                if (!selectedStoriesContainer.querySelector(".story-item")) {
                    selectedStoriesContainer.innerHTML = `
                        <div id="noSelectedMessage" style="text-align: center; color: #888; padding: 20px;">
                            No stories selected yet
                        </div>
                    `;
                }

                M.toast({ html: "Story removed from selection" });
            }

            // Content Draft Tab Functionality
            function switchContentFormat(formatId, element) {
                // Update navigation active state
                document
                    .querySelectorAll(".content-nav .content-format-item")
                    .forEach((li) => {
                        li.classList.remove("active");
                    });
                if (element) {
                    element.parentElement.classList.add("active");
                }

                // Hide all content format sections
                document
                    .querySelectorAll(".content-format-section")
                    .forEach((section) => {
                        section.style.display = "none";
                    });

                // Hide add more content section
                document.getElementById("addMoreContent").style.display =
                    "none";

                // Show selected content format section
                const selectedSection = document.getElementById(formatId);
                if (selectedSection) {
                    selectedSection.style.display = "block";
                }
            }

            function showAddMoreContent() {
                // Deactivate any active navigation items
                document
                    .querySelectorAll(".content-nav .content-format-item")
                    .forEach((li) => {
                        li.classList.remove("active");
                    });

                // Hide all content format sections
                document
                    .querySelectorAll(".content-format-section")
                    .forEach((section) => {
                        section.style.display = "none";
                    });

                // Show add more content section
                document.getElementById("addMoreContent").style.display =
                    "block";
            }

            // Content Versioning
            const contentVersions = {
                pressRelease: {
                    v1: "Initial draft of press release about FSU Football Season 2025.",
                    v2: "Updated press release with more detailed player statistics.",
                    v3: "Final draft incorporating latest team performance insights.",
                },
                socialMedia: {
                    v1: "Exciting preview of FSU Football Season 2025! #GoNoles",
                    v2: "Behind the scenes look at our upcoming football season. Stay tuned! #FSUFootball",
                    v3: "Countdown to an epic season begins now! 🏈 #SeminolesStrong",
                },
            };

            function loadContentVersion(formatType, version) {
                const contentArea = document.getElementById(
                    `${formatType}Content`,
                );
                contentArea.value = contentVersions[formatType][version];
            }

            function saveContentVersion(formatType) {
                const contentArea = document.getElementById(
                    `${formatType}Content`,
                );
                const versionSelect = document.getElementById(
                    `${formatType}Versions`,
                );

                // Create a new version
                const newVersionNum =
                    Object.keys(contentVersions[formatType]).length + 1;
                const newVersionKey = `v${newVersionNum}`;

                // Save current content as a new version
                contentVersions[formatType][newVersionKey] = contentArea.value;

                // Add new version to the select dropdown
                const newOption = document.createElement("option");
                newOption.value = newVersionKey;
                newOption.text = `Version ${newVersionNum}: Just now`;
                versionSelect.add(newOption);

                // Select the new version
                versionSelect.value = newVersionKey;

                // Show success message
                M.toast({ html: "Version saved successfully!" });
            }

            // Function to populate related content
            // Static related content for documents and links
            const staticDocuments = [
                {
                    name: "FSU Football Season Overview",
                    content:
                        "Jordan Travis emerged as a pivotal quarterback, showcasing exceptional leadership and strategic playmaking throughout the 2025 season. His ability to read defensive formations and make split-second decisions significantly contributed to the team's offensive success.",
                    citation: "pp. 23-25",
                },
                {
                    name: "Team Performance Analysis",
                    content:
                        "The offensive line demonstrated remarkable improvement, reducing sack rates by 22% compared to the previous season. Key players like Rod Dent and Qae'shon Sapp provided crucial protection, creating vital spaces for running backs and quarterbacks.",
                    citation: "pp. 47-49",
                },
            ];

            const staticWebLinks = [
                {
                    name: "FSU Athletics Official Site",
                    content:
                        "Florida State University's football program has consistently ranked among the top athletic programs in the NCAA, with a rich history of producing NFL-caliber talent. The 2025 season reinforced this legacy through exceptional team performance and individual player achievements.",
                    citation: "Game Recap Section",
                },
                {
                    name: "ACC Football Insights",
                    content:
                        "The Atlantic Coast Conference (ACC) recognized FSU's outstanding season, highlighting the team's strategic adaptations and resilient performance across multiple challenging matchups. Key statistical innovations in play-calling and defensive strategies set the Seminoles apart.",
                    citation: "2025 Season Analysis",
                },
            ];

            // Add this to the existing DOMContentLoaded event listener or create a new one
            document.addEventListener("DOMContentLoaded", function () {
                // Initialize the collapsible for related content
                var relatedContentCollapsible = document.querySelector(
                    ".related-content-sidebar .collapsible",
                );
                if (relatedContentCollapsible) {
                    M.Collapsible.init(relatedContentCollapsible, {
                        accordion: false, // allows multiple sections to be open
                    });
                }
            });

            function populateRelatedContent() {
                // Existing Selected Stories Population
                const selectedStoriesContainer =
                    document.getElementById("selectedStories");
                const relatedStoriesContent = document.getElementById(
                    "relatedStoriesContent",
                );

                // Clear previous content
                relatedStoriesContent.innerHTML = "";

                if (selectedStoriesContainer) {
                    const storyItems =
                        selectedStoriesContainer.querySelectorAll(
                            ".story-item",
                        );

                    if (storyItems.length > 0) {
                        storyItems.forEach((item) => {
                            const storyText =
                                item.querySelector("div > p").textContent;

                            const relatedItem = document.createElement("div");
                            relatedItem.className = "related-content-item";
                            relatedItem.innerHTML = `
                                <span>${storyText}</span>
                                <div class="item-actions">
                                    <button onclick="copyToClipboard('${storyText.replace(/'/g, "\\'")}')" title="Copy">
                                        <i class="material-icons" style="font-size: 18px;">content_copy</i>
                                    </button>
                                    <button onclick="insertContentIntoEditor('${storyText.replace(/'/g, "\\'")}')" title="Insert">
                                        <i class="material-icons" style="font-size: 18px;">input</i>
                                    </button>
                                </div>
                            `;

                            relatedStoriesContent.appendChild(relatedItem);
                        });
                    } else {
                        relatedStoriesContent.innerHTML =
                            '<p class="no-content-message">No stories selected</p>';
                    }
                }

                // Populate Static Documents
                const relatedDocumentsContent = document.getElementById(
                    "relatedDocumentsContent",
                );
                relatedDocumentsContent.innerHTML = "";

                if (staticDocuments.length > 0) {
                    staticDocuments.forEach((doc) => {
                        const relatedItem = document.createElement("div");
                        relatedItem.className = "related-content-item";
                        relatedItem.innerHTML = `
                            <div>
                                <strong>${doc.name}</strong>
                                <p style="margin: 5px 0; font-size: 0.9em;">${doc.content}</p>
                                <div style="font-size: 0.8em; color: #666; font-style: italic;">Citation: ${doc.citation}</div>
                            </div>
                            <div class="item-actions">
                                <button onclick="copyToClipboard('${doc.content.replace(/'/g, "\\'")}')" title="Copy">
                                    <i class="material-icons" style="font-size: 18px;">content_copy</i>
                                </button>
                                <button onclick="insertContentIntoEditor('${doc.content.replace(/'/g, "\\'")}')" title="Insert">
                                    <i class="material-icons" style="font-size: 18px;">input</i>
                                </button>
                            </div>
                        `;

                        relatedDocumentsContent.appendChild(relatedItem);
                    });
                } else {
                    relatedDocumentsContent.innerHTML =
                        '<p class="no-content-message">No documents available</p>';
                }

                // Populate Static Web Links
                const relatedLinksContent = document.getElementById(
                    "relatedLinksContent",
                );
                relatedLinksContent.innerHTML = "";

                if (staticWebLinks.length > 0) {
                    staticWebLinks.forEach((link) => {
                        const relatedItem = document.createElement("div");
                        relatedItem.className = "related-content-item";
                        relatedItem.innerHTML = `
                            <div>
                                <strong>${link.name}</strong>
                                <p style="margin: 5px 0; font-size: 0.9em;">${link.content}</p>
                                <div style="font-size: 0.8em; color: #666; font-style: italic;">Citation: ${link.citation}</div>
                            </div>
                            <div class="item-actions">
                                <button onclick="copyToClipboard('${link.content.replace(/'/g, "\\'")}')" title="Copy">
                                    <i class="material-icons" style="font-size: 18px;">content_copy</i>
                                </button>
                                <button onclick="insertContentIntoEditor('${link.content.replace(/'/g, "\\'")}')" title="Insert">
                                    <i class="material-icons" style="font-size: 18px;">input</i>
                                </button>
                            </div>
                        `;

                        relatedLinksContent.appendChild(relatedItem);
                    });
                } else {
                    relatedLinksContent.innerHTML =
                        '<p class="no-content-message">No links available</p>';
                }
            }
            // Function to copy text to clipboard
            function copyToClipboard(text) {
                navigator.clipboard
                    .writeText(text)
                    .then(() => {
                        M.toast({ html: "Copied to clipboard!" });
                    })
                    .catch((err) => {
                        console.error("Could not copy text: ", err);
                        M.toast({ html: "Failed to copy" });
                    });
            }

            // Function to insert content into the active editor
            function insertContentIntoEditor(text) {
                // Determine which content area is currently active
                const pressReleaseContent = document.getElementById(
                    "pressReleaseContent",
                );
                const socialMediaContent =
                    document.getElementById("socialMediaContent");

                if (
                    pressReleaseContent &&
                    pressReleaseContent.closest(".content-format-section").style
                        .display !== "none"
                ) {
                    // If press release is active
                    pressReleaseContent.value += " " + text;
                    M.textareaAutoResize(pressReleaseContent);
                    M.toast({ html: "Content inserted into Press Release" });
                } else if (
                    socialMediaContent &&
                    socialMediaContent.closest(".content-format-section").style
                        .display !== "none"
                ) {
                    // If social media is active
                    socialMediaContent.value += " " + text;
                    M.textareaAutoResize(socialMediaContent);
                    M.toast({
                        html: "Content inserted into Social Media Post",
                    });
                } else {
                    M.toast({ html: "No active content area" });
                }
            }

            // Modify existing switchContentFormat function to call populateRelatedContent
            function switchContentFormat(formatId, element) {
                // Existing switchContentFormat logic
                document
                    .querySelectorAll(".content-nav .content-format-item")
                    .forEach((li) => {
                        li.classList.remove("active");
                    });
                if (element) {
                    element.parentElement.classList.add("active");
                }

                document
                    .querySelectorAll(".content-format-section")
                    .forEach((section) => {
                        section.style.display = "none";
                    });

                document.getElementById("addMoreContent").style.display =
                    "none";

                const selectedSection = document.getElementById(formatId);
                if (selectedSection) {
                    selectedSection.style.display = "block";
                }

                // Populate related content
                populateRelatedContent();
            }

            // Call populateRelatedContent when the page loads or when research content changes
            document.addEventListener(
                "DOMContentLoaded",
                populateRelatedContent,
            );

            let selectedGraphicsMode = "pressReleaseGraphics";

            function switchGraphicsTab(tabId, element) {
                // Update navigation active state
                document
                    .querySelectorAll(".graphics-nav li")
                    .forEach((li) => li.classList.remove("active"));
                element.parentElement.classList.add("active");

                // Update content visibility
                document
                    .querySelectorAll(".graphics-content")
                    .forEach((content) => {
                        content.style.display = "none";
                    });
                document.getElementById(tabId).style.display = "block";

                // Remember current mode
                selectedGraphicsMode = tabId;
            }

            function openGraphicsModal() {
                const modal = M.Modal.getInstance(
                    document.getElementById("graphicsModal"),
                );
                modal.open();

                // Reset previous selections
                const mediaItems =
                    document.querySelectorAll(".modal .media-item");
                mediaItems.forEach((item) => {
                    const button = item.querySelector("button");
                    button.textContent = "Select";
                    item.classList.remove("selected");
                    item.style.border = "none";
                });

                // Initialize tabs in the modal
                const modalTabs = document.querySelectorAll(
                    ".graphics-selection-tabs .tabs",
                );
                M.Tabs.init(modalTabs);
            }

            function selectGraphic(button) {
                const mediaItem = button.closest(".media-item");
                mediaItem.classList.toggle("selected");

                if (button.textContent === "Select") {
                    button.textContent = "Deselect";
                    mediaItem.style.border = "2px solid var(--fsu-garnet)";
                } else {
                    button.textContent = "Select";
                    mediaItem.style.border = "none";
                }
            }

            function saveSelectedGraphics() {
                const selectedItems = document.querySelectorAll(
                    ".modal .media-item.selected",
                );
                const targetList = document.getElementById(
                    selectedGraphicsMode === "pressReleaseGraphics"
                        ? "pressReleaseGraphicsList"
                        : "socialMediaGraphicsList",
                );

                // Clear previous no content message
                const noContentMessage = targetList.querySelector(
                    ".no-content-message",
                );
                if (noContentMessage) {
                    noContentMessage.remove();
                }

                // Add selected items
                selectedItems.forEach((item) => {
                    const img = item.querySelector("img");
                    const newGraphicItem = document.createElement("div");
                    newGraphicItem.className = "media-item";
                    newGraphicItem.innerHTML = `
                                          <img src="${img.src}" alt="${img.alt}" style="width: 100%; height: 150px; object-fit: cover;" />
                                          <div class="media-item-actions">
                                              <button class="btn-small" onclick="removeGraphic(this)">
                                                  <i class="material-icons">delete</i>
                                              </button>
                                          </div>
                                      `;
                    targetList.appendChild(newGraphicItem);
                });

                // Close modal and reset selection
                const modal = M.Modal.getInstance(
                    document.getElementById("graphicsModal"),
                );
                modal.close();

                // Reset selections
                selectedItems.forEach((item) => {
                    const button = item.querySelector("button");
                    button.textContent = "Select";
                    item.classList.remove("selected");
                    item.style.border = "none";
                });

                M.toast({ html: "Graphics added successfully!" });
            }

            function removeGraphic(button) {
                const graphicItem = button.closest(".media-item");
                graphicItem.remove();

                // If no graphics left, add no content message
                const targetList = graphicItem.closest(".media-grid");
                if (targetList.children.length === 0) {
                    const noContentMessage = document.createElement("p");
                    noContentMessage.className = "no-content-message";
                    noContentMessage.textContent = "No graphics selected yet";
                    targetList.appendChild(noContentMessage);
                }

                M.toast({ html: "Graphic removed successfully!" });
            }

            // Function to save graphics assignee
            function saveGraphicsAssignee() {
                const selectedMember = document.querySelector(
                    ".team-member.selected",
                );
                if (!selectedMember) {
                    M.toast({ html: "Please select a team member" });
                    return;
                }

                // Get selected member's details
                const img = selectedMember.querySelector("img");
                const name = selectedMember.querySelector("strong").textContent;

                // Update the graphics assignee column
                const graphicsAssigneeColumn = document.querySelector(
                    "#graphics .assignee-column .column-content",
                );
                graphicsAssigneeColumn.innerHTML = `
                    <img src="${img.src}" alt="${img.alt}" class="assigned-user-avatar" onclick="openGraphicsAssignmentModal()"/>
                    <span class="assigned-user-name" onclick="openGraphicsAssignmentModal()">${name}</span>
                `;

                // Close the modal
                const modal = M.Modal.getInstance(
                    document.getElementById("assignmentModal"),
                );
                modal.close();

                M.toast({ html: `Graphics task assigned to ${name}` });
            }

            // Function to save content assignee
            function saveContentAssignee() {
                const selectedMember = document.querySelector(
                    ".team-member.selected",
                );
                if (!selectedMember) {
                    M.toast({ html: "Please select a team member" });
                    return;
                }

                // Get selected member's details
                const img = selectedMember.querySelector("img");
                const name = selectedMember.querySelector("strong").textContent;

                // Update the content assignee column
                const contentAssigneeColumn = document.querySelector(
                    "#content .assignee-column .column-content",
                );
                contentAssigneeColumn.innerHTML = `
                    <img src="${img.src}" alt="${img.alt}" class="assigned-user-avatar" onclick="openContentAssignmentModal()"/>
                    <span class="assigned-user-name" onclick="openContentAssignmentModal()">${name}</span>
                `;

                // Close the modal
                const modal = M.Modal.getInstance(
                    document.getElementById("assignmentModal"),
                );
                modal.close();

                M.toast({ html: `Content task assigned to ${name}` });
            }

            // Update the onClick handlers in the HTML to use specific functions
            document.addEventListener("DOMContentLoaded", function () {
                // Update graphics assignee avatar and name
                const graphicsAssigneeElements = document.querySelector(
                    "#graphics .assignee-column .column-content",
                );
                if (graphicsAssigneeElements) {
                    graphicsAssigneeElements
                        .querySelector("img")
                        .setAttribute(
                            "onclick",
                            "openGraphicsAssignmentModal()",
                        );
                    graphicsAssigneeElements
                        .querySelector("span")
                        .setAttribute(
                            "onclick",
                            "openGraphicsAssignmentModal()",
                        );
                }

                // Update content assignee avatar and name
                const contentAssigneeElements = document.querySelector(
                    "#content .assignee-column .column-content",
                );
                if (contentAssigneeElements) {
                    contentAssigneeElements
                        .querySelector("img")
                        .setAttribute(
                            "onclick",
                            "openContentAssignmentModal()",
                        );
                    contentAssigneeElements
                        .querySelector("span")
                        .setAttribute(
                            "onclick",
                            "openContentAssignmentModal()",
                        );
                }
            });

            // Function to open graphics assignment modal
            function openGraphicsAssignmentModal() {
                const modal = M.Modal.getInstance(
                    document.getElementById("graphicsAssignmentModal"),
                );
                modal.open();

                // Clear previous selections
                document
                    .querySelectorAll("#graphicsAssignmentModal .team-member")
                    .forEach((member) => {
                        member.classList.remove("selected");
                    });

                // Pre-select current graphics assignee if applicable
                const currentGraphicsAssignee = document.querySelector(
                    "#graphics .assigned-user-name",
                );
                if (currentGraphicsAssignee) {
                    const currentName = currentGraphicsAssignee.textContent;
                    document
                        .querySelectorAll(
                            "#graphicsAssignmentModal .team-member",
                        )
                        .forEach((member) => {
                            const memberName =
                                member.querySelector("strong").textContent;
                            if (memberName === currentName) {
                                member.classList.add("selected");
                            }
                        });
                }
            }

            // Function to open content assignment modal
            function openContentAssignmentModal() {
                const modal = M.Modal.getInstance(
                    document.getElementById("contentAssignmentModal"),
                );
                modal.open();

                // Clear previous selections
                document
                    .querySelectorAll("#contentAssignmentModal .team-member")
                    .forEach((member) => {
                        member.classList.remove("selected");
                    });

                // Pre-select current content assignee if applicable
                const currentContentAssignee = document.querySelector(
                    "#content .assigned-user-name",
                );
                if (currentContentAssignee) {
                    const currentName = currentContentAssignee.textContent;
                    document
                        .querySelectorAll(
                            "#contentAssignmentModal .team-member",
                        )
                        .forEach((member) => {
                            const memberName =
                                member.querySelector("strong").textContent;
                            if (memberName === currentName) {
                                member.classList.add("selected");
                            }
                        });
                }
            }

            // Function to select graphics assignee
            function selectGraphicsAssignee(memberElement) {
                // Remove selection from all team members in graphics modal
                document
                    .querySelectorAll("#graphicsAssignmentModal .team-member")
                    .forEach((member) => {
                        member.classList.remove("selected");
                    });

                // Add selection to clicked member
                memberElement.classList.add("selected");
            }

            // Function to select content assignee
            function selectContentAssignee(memberElement) {
                // Remove selection from all team members in content modal
                document
                    .querySelectorAll("#contentAssignmentModal .team-member")
                    .forEach((member) => {
                        member.classList.remove("selected");
                    });

                // Add selection to clicked member
                memberElement.classList.add("selected");
            }

            // Function to save graphics assignee
            function saveGraphicsAssignee() {
                const selectedMember = document.querySelector(
                    "#graphicsAssignmentModal .team-member.selected",
                );
                if (!selectedMember) {
                    M.toast({ html: "Please select a team member" });
                    return;
                }

                // Get selected member's details
                const img = selectedMember.querySelector("img");
                const name = selectedMember.querySelector("strong").textContent;

                // Update the graphics assignee column
                const graphicsAssigneeColumn = document.querySelector(
                    "#graphics .assignee-column .column-content",
                );
                graphicsAssigneeColumn.innerHTML = `
                    <img src="${img.src}" alt="${img.alt}" class="assigned-user-avatar" onclick="openGraphicsAssignmentModal()"/>
                    <span class="assigned-user-name" onclick="openGraphicsAssignmentModal()">${name}</span>
                `;

                // Close the modal
                const modal = M.Modal.getInstance(
                    document.getElementById("graphicsAssignmentModal"),
                );
                modal.close();

                M.toast({ html: `Graphics task assigned to ${name}` });
            }

            // Function to save content assignee
            function saveContentAssignee() {
                const selectedMember = document.querySelector(
                    "#contentAssignmentModal .team-member.selected",
                );
                if (!selectedMember) {
                    M.toast({ html: "Please select a team member" });
                    return;
                }

                // Get selected member's details
                const img = selectedMember.querySelector("img");
                const name = selectedMember.querySelector("strong").textContent;

                // Update the content assignee column
                const contentAssigneeColumn = document.querySelector(
                    "#content .assignee-column .column-content",
                );
                contentAssigneeColumn.innerHTML = `
                    <img src="${img.src}" alt="${img.alt}" class="assigned-user-avatar" onclick="openContentAssignmentModal()"/>
                    <span class="assigned-user-name" onclick="openContentAssignmentModal()">${name}</span>
                `;

                // Close the modal
                const modal = M.Modal.getInstance(
                    document.getElementById("contentAssignmentModal"),
                );
                modal.close();

                M.toast({ html: `Content task assigned to ${name}` });
            }

            // Initialize modals when the page loads
            document.addEventListener("DOMContentLoaded", function () {
                // Initialize both assignment modals
                const graphicsModal = document.getElementById(
                    "graphicsAssignmentModal",
                );
                const contentModal = document.getElementById(
                    "contentAssignmentModal",
                );

                M.Modal.init([graphicsModal, contentModal]);
            });

            function toggleBreakingNews() {
    document.getElementById("breakingNewsSidebar").classList.toggle("hidden");
}

// Function to populate breaking news
function toggleBreakingNews() {
    document.getElementById("breakingNewsSidebar").classList.toggle("hidden");
}
function populateBreakingNews() {
    const breakingNewsList = document.getElementById("breakingNewsList");
    breakingNewsList.innerHTML = "";
    const newsWithTags = [
        { content: "FSU breaks into the top 10 all time for assists with 26 Assists in the Miami game.", tags: ["Miami Game"], time: "5 mins ago" },
        { content: "Lawrence Toafili scored 24 rushing yards against North Carolina.", tags: ["North Carolina", "Lawrence Toafili"], time: "2 mins ago" }
    ];

    newsWithTags.forEach(item => {
        const tagsHtml = item.tags.map(tag => {
            const tagClass = tag.includes("Miami") ? "chip-miami" : tag.includes("North Carolina") ? "chip-nc" : "chip-acc";
            return `<span class="chip ${tagClass}">${tag}</span>`;
        }).join(' ');

        const li = document.createElement("li");
        li.innerHTML = `
            ${item.content}<br>
            ${tagsHtml}
            <div class="time-icon"><i class="material-icons" style="font-size:14px;">access_time</i>${item.time}</div>
        `;
        li.onclick = () => addToContent(item.content);
        breakingNewsList.appendChild(li);
    });
}
function addToContent(content) {
    const contentArea = document.getElementById("pressReleaseContent");
    if (contentArea) {
        contentArea.value += "\n" + content;
        M.toast({ html: "News added to content!" });
    }
}
document.addEventListener("DOMContentLoaded", populateBreakingNews);
        </script>
    </body>
</html>
